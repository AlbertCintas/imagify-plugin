jQuery(function(a){a("#imagify-signup").click(function(b){b.preventDefault();swal({title:imagify.signupTitle,text:imagify.signupText,confirmButtonText:imagify.signupConfirmButtonText,type:"input",closeOnConfirm:!1,allowOutsideClick:!0,showLoaderOnConfirm:!0,customClass:"imagify-sweet-alert imagify-sweet-alert-signup"},function(b){if(""==a.trim(b)||!b)return swal.showInputError(imagify.signupErrorEmptyEmail),!1;a.get(ajaxurl+"?action=imagify_signup&email="+b+"&imagifysignupnonce="+a("#imagifysignupnonce").val()).done(function(a){a.success?
swal({title:imagify.signupSuccessTitle,text:imagify.signupSuccessText,type:"success",customClass:"imagify-sweet-alert"}):swal.showInputError(a.data)})})});a("#imagify-save-api-key").click(function(b){b.preventDefault();swal({title:imagify.saveApiKeyTitle,text:imagify.saveApiKeyText,confirmButtonText:imagify.saveApiKeyConfirmButtonText,type:"input",closeOnConfirm:!1,allowOutsideClick:!0,showLoaderOnConfirm:!0,customClass:"imagify-sweet-alert imagify-sweet-alert-signup"},function(b){if(""==a.trim(b)||
!b)return swal.showInputError(imagify.signupErrorEmptyEmail),!1;a.get(ajaxurl+"?action=imagify_check_api_key_validity&api_key="+b+"&imagifycheckapikeynonce="+a("#imagifycheckapikeynonce").val()).done(function(a){a.success?swal({title:imagify.ApiKeyCheckSuccessTitle,text:imagify.ApiKeyCheckSuccessText,type:"success",customClass:"imagify-sweet-alert"}):swal.showInputError(a.data)})})});a(".imagify-notice-dismiss").click(function(b){b.preventDefault();var c=a(this);b=c.parents(".imagify-welcome, .imagify-notice");
c=c.attr("href");b.fadeTo(100,0,function(){a(this).slideUp(100,function(){a(this).remove()})});a.get(c.replace("admin-post.php","admin-ajax.php"))});0<a(".imagify-modal-trigger").length&&(a(".imagify-modal").attr("aria-hidden","true"),a(".imagify-modal-trigger").on("click",function(){var b=a(this).attr("href")||a(this).data("target");a(b).css("display","flex").hide().fadeIn(400).attr("aria-hidden","false").attr("tabindex","0").focus().removeAttr("tabindex").addClass("modal-is-open");a("body").addClass("imagify-modal-is-open");
return!1}),a(".imagify-modal").find(".close-btn").on("click",function(){a(this).closest(".imagify-modal").fadeOut(400).attr("aria-hidden","true").removeClass("modal-is-open");a("body").removeClass("imagify-modal-is-open")}).on("blur",function(){var b=a(this).closest(".imagify-modal");"false"===b.attr("aria-hidden")&&b.attr("tabindex","0").focus().removeAttr("tabindex")}),a(window).on("keydown",function(b){if(27==b.keyCode&&0<a(".imagify-modal.modal-is-open").length)return b.preventDefault(),a(".imagify-modal.modal-is-open").find(".close-btn").trigger("click"),
!1}));var d=!1,e=!1;a("#wp-admin-bar-imagify").hover(function(){!0===d&&e.abort();d=!0;var b=a("#wp-admin-bar-imagify-profile-content");b.is(":empty")&&(e=a.get(ajaxurl+"?action=imagify_get_admin_bar_profile&imagifygetadminbarprofilenonce="+a("#imagifygetadminbarprofilenonce").val()).done(function(c){b.html(c.data);a("#wp-admin-bar-imagify-profile-loading").remove();d=!1}))})});