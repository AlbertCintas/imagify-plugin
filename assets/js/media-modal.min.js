window.imagify.drawMeAChart=function(a){a.each(function(){var a=jQuery(this),b=parseInt(a.closest(".imagify-chart").next(".imagify-chart-value").text()),c=[{value:b,color:"#00B3D3"},{value:100-b,color:"#D8D8D8"}];new Chart(a[0].getContext("2d")).Doughnut(c,{segmentStrokeColor:"#FFF",segmentStrokeWidth:1,animateRotate:!0,tooltipEvents:[]})})},function(a,b,c,d){a(".imagify-datas-details").hide(),a(b).on("click",".imagify-datas-more-action a",function(b){var c=a(this);b.preventDefault(),c.hasClass("is-open")?(a(c.attr("href")).slideUp(300).removeClass("is-open"),c.removeClass("is-open").find(".the-text").text(c.data("open"))):(a(c.attr("href")).slideDown(300).addClass("is-open"),c.addClass("is-open").find(".the-text").text(c.data("close")))}),a(b).on("click",".button-imagify-restore, .button-imagify-manual-upload, .button-imagify-manual-override-upload, .button-imagify-optimize-missing-sizes",function(b){var d=a(this),e=d.parents(".column-imagify_optimized_file, .compat-field-imagify .field"),f=d.attr("href");b.preventDefault(),e.length||(e=d.closest(".column")),e.html('<div class="button"><span class="imagify-spinner"></span>'+d.data("waiting-label")+"</div>"),a.get(f.replace("admin-post.php","admin-ajax.php")).done(function(a){e.html(a.data),e.find(".imagify-datas-more-action a").addClass("is-open").find(".the-text").text(e.find(".imagify-datas-more-action a").data("close")),e.find(".imagify-datas-details").addClass("is-open"),c.imagify.drawMeAChart(e.find(".imagify-consumption-chart"))})}),a(c).on("canvasprinted.imagify",function(b,d){var e;d=d||".imagify-consumption-chart",e=a(d),c.imagify.drawMeAChart(e),e.closest(".imagify-datas-list").siblings(".imagify-datas-details").hide()}).trigger("canvasprinted.imagify")}(jQuery,document,window);