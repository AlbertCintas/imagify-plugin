(function(a,n,m){n.fn.twentytwenty=function(f,q){f=n.extend({handlePosition:.5,orientation:"horizontal",labelBefore:"Before",labelAfter:"After"},f);return this.each(function(){var g=f.handlePosition,c=n(this),e=f.orientation,p="vertical"===e?"down":"left",m="vertical"===e?"up":"right",l=c.find("img:first"),r=c.find("img:last");c.wrap('<div class="twentytwenty-wrapper twentytwenty-'+e+'"></div>');c.append('<div class="twentytwenty-overlay"></div>');c.append('<div class="twentytwenty-handle"></div>');
var b=c.find(".twentytwenty-handle");b.append('<span class="twentytwenty-'+p+'-arrow"></span>');b.append('<span class="twentytwenty-'+m+'-arrow"></span>');c.addClass("twentytwenty-container");l.addClass("twentytwenty-before");r.addClass("twentytwenty-after");p=c.find(".twentytwenty-overlay");p.append('<div class="twentytwenty-labels twentytwenty-before-label"><span class="twentytwenty-label-content">'+f.labelBefore+"</span></div>");p.append('<div class="twentytwenty-labels twentytwenty-after-label"><span class="twentytwenty-label-content">'+
f.labelAfter+"</span></div>");var k=function(a){var d,t,k;k=l.width();var h=l.height();d=k+"px";t=h+"px";k=a*k+"px";a=a*h+"px";b.css("vertical"===e?"top":"left","vertical"===e?a:k);h=c.find(".twentytwenty-before");"vertical"===e?h.css("clip","rect(0,"+d+","+a+",0)"):h.css("clip","rect(0,"+k+","+t+",0)");c.css("height",t);"function"===typeof q&&q()},d=0,t=0,h=0,v=0;n(a).on("resize.twentytwenty",function(a){k(g)});b.on("movestart",function(a){(a.distX>a.distY&&a.distX<-a.distY||a.distX<a.distY&&a.distX>
-a.distY)&&"vertical"!==e?a.preventDefault():(a.distX<a.distY&&a.distX<-a.distY||a.distX>a.distY&&a.distX>-a.distY)&&"vertical"===e&&a.preventDefault();c.addClass("active");d=c.offset().left;t=c.offset().top;h=l.width();v=l.height()});b.on("moveend",function(a){c.removeClass("active")});b.on("move",function(a){c.hasClass("active")&&(g="vertical"===e?(a.pageY-t)/v:(a.pageX-d)/h,0>g&&(g=0),1<g&&(g=1),k(g))});c.find("img").on("mousedown",function(a){a.preventDefault()});n(a).trigger("resize.twentytwenty")})}})(window,
jQuery);
(function(a,n,m,f){var q=function(b){b.each(function(){var b=parseInt(a(this).closest(".imagify-chart").next(".imagify-chart-value").text()),b=[{value:b,color:"#00B3D3"},{value:100-b,color:"#D8D8D8"}];(new Chart(a(this)[0].getContext("2d"))).Doughnut(b,{segmentStrokeColor:"#2A2E3C",segmentStrokeWidth:1,animateRotate:!0,percentageInnerCutout:60,tooltipEvents:[]})})},g=function(b){var c={width:0,height:0,original_url:"",optimized_url:"",original_size:0,optimized_size:0,saving:0,modal_append_to:a("body"),trigger:a('[data-target="imagify-visual-comparison"]'),
modal_id:"imagify-visual-comparison"},d=a.extend({},c,b);if(0===d.width||0===d.height||""===d.original_url||""===d.optimized_url||0===d.original_size||0===d.optimized_size||0===d.saving)return"error";d.modal_append_to.append('<div id="'+d.modal_id+'" class="imagify-modal imagify-visual-comparison" aria-hidden="true"><div class="imagify-modal-content loading"><div class="twentytwenty-container"><img class="imagify-img-before" alt="" width="'+d.width+'" height="'+d.height+'"><img class="imagify-img-after" alt="" width="'+
d.width+'" height="'+d.height+'"></div><div class="imagify-comparison-levels"><div class="imagify-c-level imagify-level-original go-left"><p class="imagify-c-level-row"><span class="label">'+imagifyTTT.labels.filesize+'</span><span class="value level">'+d.original_size+'</span></p></div><div class="imagify-c-level imagify-level-optimized go-right"><p class="imagify-c-level-row"><span class="label">'+imagifyTTT.labels.filesize+'</span><span class="value level">'+d.optimized_size+'</span></p><p class="imagify-c-level-row"><span class="label">'+
imagifyTTT.labels.saving+'</span><span class="value"><span class="imagify-chart"><span class="imagify-chart-container"><canvas id="imagify-consumption-chart-normal" width="15" height="15"></canvas></span></span><span class="imagify-chart-value">'+d.saving+'</span>%</span></p></div></div><button class="close-btn absolute" type="button"><i aria-hidden="true" class="dashicons dashicons-no-alt"></i><span class="screen-reader-text">'+imagifyTTT.labels.close+"</span></button></div></div>");d.trigger.on("click.imagify",
function(){var b=a(a(this).data("target")),c=0;b.find(".imagify-modal-content").css({width:.95*a(n).outerWidth()+"px","max-width":d.width});b.find(".imagify-img-before").on("load",function(){c++}).attr("src",d.original_url);b.find(".imagify-img-after").on("load",function(){c++}).attr("src",d.optimized_url);var k=b.find(".twentytwenty-container"),e=setInterval(function(){if(2===c)return k.twentytwenty({handlePosition:.3,orientation:"horizontal",labelBefore:imagifyTTT.labels.original_l,labelAfter:imagifyTTT.labels.optimized_l},
function(){var d=a(n).height(),c=b.find(".twentytwenty-container").height(),e=b.find(".twentytwenty-wrapper").position().top;k.closest(".imagify-modal-content").hasClass("loaded")||(k.closest(".imagify-modal-content").removeClass("loading").addClass("loaded"),q(b.find(".imagify-level-optimized").find(".imagify-chart").find("canvas")));if(d<c&&!b.hasClass("modal-is-too-high")){b.addClass("modal-is-too-high");var h=b.find(".twentytwenty-handle"),g=b.find(".twentytwenty-label-content"),f=b.find(".imagify-comparison-levels"),
c=f.outerHeight(),l=(d-e-h.height())/2,m=d-3*e-c;h.css({top:l});g.css({top:m,bottom:"auto"});b.find(".twentytwenty-wrapper").css({paddingBottom:c});b.find(".imagify-modal-content").on("scroll.imagify",function(){h.css({top:l+a(this).scrollTop()});g.css({top:m+a(this).scrollTop()});f.css({bottom:-a(this).scrollTop()})})}}),clearInterval(e),e=null,"done"},75);return!1})};a(".imagify-visual-comparison-btn").on("click",function(){if(1!==a(".twentytwenty-wrapper").length&&(a(a(this).data("target")).find(".imagify-modal-content").css("width",
.95*a(n).outerWidth()+"px"),0<a(".twentytwenty-container").length&&800<a(n).outerWidth())){var b=a(".twentytwenty-container"),c=0,d=b.data("loader"),e=b.data("label-original"),h=b.data("label-normal"),g=b.data("label-aggressive"),f=b.data("label-ultra"),l=b.data("original-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>"),m=b.data("original-alt"),p=b.data("original-img"),r=b.data("original-dim").split("x");b.data("normal-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>");var u=
b.data("normal-alt"),A=b.data("normal-img"),w=b.data("normal-dim").split("x");b.data("aggressive-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>");var B=b.data("aggressive-alt"),C=b.data("aggressive-img"),x=b.data("aggressive-dim").split("x"),D=b.data("ultra-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>"),E=b.data("ultra-alt"),F=b.data("ultra-img"),y=b.data("ultra-dim").split("x"),e='<span class="twentytwenty-duo-buttons twentytwenty-duo-left"><button type="button" class="imagify-comparison-original selected" data-img="original">'+
e+'</button><button type="button" class="imagify-comparison-normal" data-img="normal">'+h+'</button><button type="button" class="imagify-comparison-aggressive" data-img="aggressive">'+g+"</button></span>",h='<span class="twentytwenty-duo-buttons twentytwenty-duo-right"><button type="button" class="imagify-comparison-normal" data-img="normal">'+h+'</button><button type="button" class="imagify-comparison-aggressive" data-img="aggressive">'+g+'</button><button type="button" class="imagify-comparison-ultra selected" data-img="ultra">'+
f+"</button></span>";b.before('<img class="loader" src="'+d+'" alt="Loading\u2026" width="64" height="64">');d=a(".twentytwenty-left-buttons").lenght?e+h:"";a(".twentytwenty-left-buttons").append(e);a(".twentytwenty-right-buttons").append(h);b.closest(".imagify-modal-content").addClass("loading").find(".twentytwenty-container").append('<img class="img-original" alt="'+m+'" width="'+r[0]+'" height="'+r[1]+'"><img class="img-normal" alt="'+u+'" width="'+w[0]+'" height="'+w[1]+'"><img class="img-aggressive" alt="'+
B+'" width="'+x[0]+'" height="'+x[1]+'"><img class="img-ultra" alt="'+E+'" width="'+y[0]+'" height="'+y[1]+'">'+d);a(".img-original").on("load",function(){c++}).attr("src",p);a(".img-normal").on("load",function(){c++}).attr("src",A);a(".img-aggressive").on("load",function(){c++}).attr("src",C);a(".img-ultra").on("load",function(){c++}).attr("src",F);var z=setInterval(function(){4===c&&(b.twentytwenty({handlePosition:.6,orientation:"horizontal",labelBefore:l,labelAfter:D},function(){b.closest(".imagify-modal-content").hasClass("loaded")||
(b.closest(".imagify-modal-content").removeClass("loading").addClass("loaded"),q(a(".imagify-level-ultra").find(".imagify-chart").find("canvas")))}),clearInterval(z),z=null)},75);a(".imagify-comparison-title").on("click",".twentytwenty-duo-buttons button:not(.selected)",function(b){b.stopPropagation();var c=a(this);b=c.closest(".imagify-comparison-title").nextAll(".twentytwenty-wrapper").find(".twentytwenty-container");var d=c.closest(".twentytwenty-duo-buttons").hasClass("twentytwenty-duo-left")?
"left":"right",e="left"===d?c.closest(".imagify-comparison-title").find(".twentytwenty-duo-right"):c.closest(".imagify-comparison-title").find(".twentytwenty-duo-left"),h=c.closest(".twentytwenty-duo-buttons").find("button"),g=b.find(".twentytwenty-before"),k=b.find(".twentytwenty-after"),f=c.data("img");h.removeClass("selected");c.addClass("selected");e.find(".selected").data("img")===f&&e.find("button:not(.selected)").eq(0).trigger("click");"left"===d&&(c=g.css("clip"),g.attr("style",""),g.removeClass("twentytwenty-before"),
b.find(".img-"+f).addClass("twentytwenty-before").css("clip",c),a(".twentytwenty-before-label").find(".twentytwenty-label-content").text(b.data(f+"-label")),a(".imagify-c-level.go-left").attr("aria-hidden","true").removeClass("go-left go-right"),a(".imagify-level-"+f).attr("aria-hidden","false").addClass("go-left"));"right"===d&&(k.removeClass("twentytwenty-after"),b.find(".img-"+f).addClass("twentytwenty-after"),a(".twentytwenty-after-label").find(".twentytwenty-label-content").text(b.data(f+"-label")),
a(".imagify-c-level.go-right").attr("aria-hidden","true").removeClass("go-left go-right"),a(".imagify-level-"+f).attr("aria-hidden","false").addClass("go-right"));q(a(".imagify-level-"+f).find(".imagify-chart").find("canvas"));return!1})}});if(0<a(".post-php").find(".wp_attachment_image").find(".thumbnail").length){m=a(".post-php").find(".wp_attachment_image");var c=m.find(".thumbnail");f=c.prop("src");var e=c.width(),c=c.height(),p=a("#imagify-full-original").val(),u=a("#imagify-full-original-size").val(),
l=a("#misc-publishing-actions").find(".misc-pub-imagify").find(".button-primary");if(360<e&&0<a("#imagify-full-original").length&&""!==a("#imagify-full-original").val()){var l=a(".misc-pub-filesize").find("strong").text(),r=a(".imagify-data-item").find(".imagify-chart-value").text();a('[id^="imgedit-open-btn-"]').before('<button type="button" class="imagify-button-primary button-primary imagify-modal-trigger" data-target="#imagify-visual-comparison" id="imagify-start-comparison">'+imagifyTTT.labels.compare+
"</button>");g({width:e,height:c,original_url:p,optimized_url:f,original_size:u,optimized_size:l,saving:r,modal_append_to:m,trigger:a("#imagify-start-comparison"),modal_id:"imagify-visual-comparison"})}else 360>e&&0<a("#imagify-full-original").length&&""!==a("#imagify-full-original").val()||0<a("#imagify-full-original").length&&""===a("#imagify-full-original").val()||(a('[id^="imgedit-open-btn-"]').before('<span class="spinner imagify-hidden"></span><a class="imagify-button-primary button-primary imagify-optimize-trigger" id="imagify-optimize-trigger" href="'+
l.attr("href")+'">'+imagifyTTT.labels.optimize+"</a>"),a("#imagify-optimize-trigger").on("click",function(){a(this).prev(".spinner").removeClass("imagify-hidden").addClass("is-active")}))}0<a(".upload-php").find(".imagify-compare-images").length&&a(".imagify-compare-images").each(function(){var b=a(this),c=b.data("id"),d=b.closest("#post-"+c).find(".column-imagify_optimized_file");g({width:b.data("full-width"),height:b.data("full-height"),original_url:b.data("backup-src"),optimized_url:b.data("full-src"),
original_size:d.find(".original").text(),optimized_size:d.find(".imagify-data-item").find(".big").text(),saving:d.find(".imagify-chart-value").text(),modal_append_to:b.closest(".column-primary"),trigger:b,modal_id:"imagify-comparison-"+c})})})(jQuery,window,document);