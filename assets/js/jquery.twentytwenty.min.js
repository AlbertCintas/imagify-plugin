(function(a,n,p){n.fn.twentytwenty=function(k,u){k=n.extend({handlePosition:.5,orientation:"horizontal",labelBefore:"Before",labelAfter:"After"},k);return this.each(function(){var h=k.handlePosition,e=n(this),f=k.orientation,g="vertical"===f?"down":"left",p="vertical"===f?"up":"right",m=e.find("img:first"),r=e.find("img:last");e.wrap('<div class="twentytwenty-wrapper twentytwenty-'+f+'"></div>');e.append('<div class="twentytwenty-overlay"></div>');e.append('<div class="twentytwenty-handle"></div>');
var l=e.find(".twentytwenty-handle");l.append('<span class="twentytwenty-'+g+'-arrow"></span>');l.append('<span class="twentytwenty-'+p+'-arrow"></span>');e.addClass("twentytwenty-container");m.addClass("twentytwenty-before");r.addClass("twentytwenty-after");g=e.find(".twentytwenty-overlay");g.append('<div class="twentytwenty-labels twentytwenty-before-label"><span class="twentytwenty-label-content">'+k.labelBefore+"</span></div>");g.append('<div class="twentytwenty-labels twentytwenty-after-label"><span class="twentytwenty-label-content">'+
k.labelAfter+"</span></div>");var t=function(a){var b,c,d;d=m.width();var q=m.height();b=d+"px";c=q+"px";d=a*d+"px";a=a*q+"px";l.css("vertical"===f?"top":"left","vertical"===f?a:d);q=e.find(".twentytwenty-before");"vertical"===f?q.css("clip","rect(0,"+b+","+a+",0)"):q.css("clip","rect(0,"+d+","+c+",0)");e.css("height",c);"function"===typeof u&&u()},b=0,d=0,c=0,q=0;n(a).on("resize.twentytwenty",function(a){t(h)});l.on("movestart",function(a){(a.distX>a.distY&&a.distX<-a.distY||a.distX<a.distY&&a.distX>
-a.distY)&&"vertical"!==f?a.preventDefault():(a.distX<a.distY&&a.distX<-a.distY||a.distX>a.distY&&a.distX>-a.distY)&&"vertical"===f&&a.preventDefault();e.addClass("active");b=e.offset().left;d=e.offset().top;c=m.width();q=m.height()});l.on("moveend",function(a){e.removeClass("active")});l.on("move",function(a){e.hasClass("active")&&(h="vertical"===f?(a.pageY-d)/q:(a.pageX-b)/c,0>h&&(h=0),1<h&&(h=1),t(h))});e.find("img").on("mousedown",function(a){a.preventDefault()});n(a).trigger("resize.twentytwenty")})}})(window,
jQuery);
(function(a,n,p,k){var u=function(b){b.each(function(){var b=parseInt(a(this).closest(".imagify-chart").next(".imagify-chart-value").text()),b=[{value:b,color:"#00B3D3"},{value:100-b,color:"#D8D8D8"}];(new Chart(a(this)[0].getContext("2d"))).Doughnut(b,{segmentStrokeColor:"#2A2E3C",segmentStrokeWidth:1,animateRotate:!0,percentageInnerCutout:60,tooltipEvents:[]})})},h=function(b){b=b.data("target")||b.attr("href");a(b).css("display","flex").hide().fadeIn(400).attr("aria-hidden","false").attr("tabindex","0").focus().removeAttr("tabindex").addClass("modal-is-open");
a("body").addClass("imagify-modal-is-open")},e=function(b){var d={width:0,height:0,original_url:"",optimized_url:"",original_size:0,optimized_size:0,saving:0,modal_append_to:a("body"),trigger:a('[data-target="imagify-visual-comparison"]'),modal_id:"imagify-visual-comparison",open_modal:!1},c=a.extend({},d,b);if(0===c.width||0===c.height||""===c.original_url||""===c.optimized_url||0===c.original_size||0===c.optimized_size||0===c.saving)return"error";c.modal_append_to.append('<div id="'+c.modal_id+
'" class="imagify-modal imagify-visual-comparison" aria-hidden="true"><div class="imagify-modal-content loading"><div class="twentytwenty-container"><img class="imagify-img-before" alt="" width="'+c.width+'" height="'+c.height+'"><img class="imagify-img-after" alt="" width="'+c.width+'" height="'+c.height+'"></div><div class="imagify-comparison-levels"><div class="imagify-c-level imagify-level-original go-left"><p class="imagify-c-level-row"><span class="label">'+imagifyTTT.labels.filesize+'</span><span class="value level">'+
c.original_size+'</span></p></div><div class="imagify-c-level imagify-level-optimized go-right"><p class="imagify-c-level-row"><span class="label">'+imagifyTTT.labels.filesize+'</span><span class="value level">'+c.optimized_size+'</span></p><p class="imagify-c-level-row"><span class="label">'+imagifyTTT.labels.saving+'</span><span class="value"><span class="imagify-chart"><span class="imagify-chart-container"><canvas id="imagify-consumption-chart-normal" width="15" height="15"></canvas></span></span><span class="imagify-chart-value">'+
c.saving+'</span>%</span></p></div></div><button class="close-btn absolute" type="button"><i aria-hidden="true" class="dashicons dashicons-no-alt"></i><span class="screen-reader-text">'+imagifyTTT.labels.close+"</span></button></div></div>");c.trigger.on("click.imagify",function(){var b=a(a(this).data("target")),d=0;"function"===typeof h&&c.open_modal&&h(a(this));b.find(".imagify-modal-content").css({width:.85*a(n).outerWidth()+"px","max-width":c.width});b.find(".imagify-img-before").on("load",function(){d++}).attr("src",
c.original_url);b.find(".imagify-img-after").on("load",function(){d++}).attr("src",c.optimized_url);var e=b.find(".twentytwenty-container"),f=setInterval(function(){if(2===d)return e.twentytwenty({handlePosition:.3,orientation:"horizontal",labelBefore:imagifyTTT.labels.original_l,labelAfter:imagifyTTT.labels.optimized_l},function(){var c=a(n).height(),d=b.find(".twentytwenty-container").height(),f=b.find(".twentytwenty-wrapper").position().top;e.closest(".imagify-modal-content").hasClass("loaded")||
e.closest(".imagify-modal-content").removeClass("loading").addClass("loaded");if(c<d&&!b.hasClass("modal-is-too-high")){b.addClass("modal-is-too-high");var h=b.find(".twentytwenty-handle"),k=b.find(".twentytwenty-label-content"),g=b.find(".imagify-comparison-levels"),d=g.outerHeight(),l=(c-f-h.height())/2,m=c-3*f-d;h.css({top:l});k.css({top:m,bottom:"auto"});b.find(".twentytwenty-wrapper").css({paddingBottom:d});b.find(".imagify-modal-content").on("scroll.imagify",function(){h.css({top:l+a(this).scrollTop()});
k.css({top:m+a(this).scrollTop()});g.css({bottom:-a(this).scrollTop()})})}}),clearInterval(f),f=null,"done"},75);return!1})};a(".imagify-visual-comparison-btn").on("click",function(){if(1!==a(".twentytwenty-wrapper").length&&(a(a(this).data("target")).find(".imagify-modal-content").css("width",.95*a(n).outerWidth()+"px"),0<a(".twentytwenty-container").length&&800<a(n).outerWidth())){var b=a(".twentytwenty-container"),d=0,c=b.data("loader"),e=b.data("label-original"),f=b.data("label-normal"),h=b.data("label-aggressive"),
k=b.data("label-ultra"),g=b.data("original-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>"),l=b.data("original-alt"),m=b.data("original-img"),p=b.data("original-dim").split("x");b.data("normal-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>");var r=b.data("normal-alt"),t=b.data("normal-img"),w=b.data("normal-dim").split("x");b.data("aggressive-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>");var v=b.data("aggressive-alt"),A=b.data("aggressive-img"),x=b.data("aggressive-dim").split("x"),
B=b.data("ultra-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>"),C=b.data("ultra-alt"),D=b.data("ultra-img"),y=b.data("ultra-dim").split("x"),e='<span class="twentytwenty-duo-buttons twentytwenty-duo-left"><button type="button" class="imagify-comparison-original selected" data-img="original">'+e+'</button><button type="button" class="imagify-comparison-normal" data-img="normal">'+f+'</button><button type="button" class="imagify-comparison-aggressive" data-img="aggressive">'+h+"</button></span>",
f='<span class="twentytwenty-duo-buttons twentytwenty-duo-right"><button type="button" class="imagify-comparison-normal" data-img="normal">'+f+'</button><button type="button" class="imagify-comparison-aggressive" data-img="aggressive">'+h+'</button><button type="button" class="imagify-comparison-ultra selected" data-img="ultra">'+k+"</button></span>";b.before('<img class="loader" src="'+c+'" alt="Loading\u2026" width="64" height="64">');c=a(".twentytwenty-left-buttons").lenght?e+f:"";a(".twentytwenty-left-buttons").append(e);
a(".twentytwenty-right-buttons").append(f);b.closest(".imagify-modal-content").addClass("loading").find(".twentytwenty-container").append('<img class="img-original" alt="'+l+'" width="'+p[0]+'" height="'+p[1]+'"><img class="img-normal" alt="'+r+'" width="'+w[0]+'" height="'+w[1]+'"><img class="img-aggressive" alt="'+v+'" width="'+x[0]+'" height="'+x[1]+'"><img class="img-ultra" alt="'+C+'" width="'+y[0]+'" height="'+y[1]+'">'+c);a(".img-original").on("load",function(){d++}).attr("src",m);a(".img-normal").on("load",
function(){d++}).attr("src",t);a(".img-aggressive").on("load",function(){d++}).attr("src",A);a(".img-ultra").on("load",function(){d++}).attr("src",D);var z=setInterval(function(){4===d&&(b.twentytwenty({handlePosition:.6,orientation:"horizontal",labelBefore:g,labelAfter:B},function(){b.closest(".imagify-modal-content").hasClass("loaded")||(b.closest(".imagify-modal-content").removeClass("loading").addClass("loaded"),u(a(".imagify-level-ultra").find(".imagify-chart").find("canvas")))}),clearInterval(z),
z=null)},75);a(".imagify-comparison-title").on("click",".twentytwenty-duo-buttons button:not(.selected)",function(b){b.stopPropagation();var c=a(this);b=c.closest(".imagify-comparison-title").nextAll(".twentytwenty-wrapper").find(".twentytwenty-container");var d=c.closest(".twentytwenty-duo-buttons").hasClass("twentytwenty-duo-left")?"left":"right",e="left"===d?c.closest(".imagify-comparison-title").find(".twentytwenty-duo-right"):c.closest(".imagify-comparison-title").find(".twentytwenty-duo-left"),
f=c.closest(".twentytwenty-duo-buttons").find("button"),h=b.find(".twentytwenty-before"),k=b.find(".twentytwenty-after"),g=c.data("img");f.removeClass("selected");c.addClass("selected");e.find(".selected").data("img")===g&&e.find("button:not(.selected)").eq(0).trigger("click");"left"===d&&(c=h.css("clip"),h.attr("style",""),h.removeClass("twentytwenty-before"),b.find(".img-"+g).addClass("twentytwenty-before").css("clip",c),a(".twentytwenty-before-label").find(".twentytwenty-label-content").text(b.data(g+
"-label")),a(".imagify-c-level.go-left").attr("aria-hidden","true").removeClass("go-left go-right"),a(".imagify-level-"+g).attr("aria-hidden","false").addClass("go-left"));"right"===d&&(k.removeClass("twentytwenty-after"),b.find(".img-"+g).addClass("twentytwenty-after"),a(".twentytwenty-after-label").find(".twentytwenty-label-content").text(b.data(g+"-label")),a(".imagify-c-level.go-right").attr("aria-hidden","true").removeClass("go-left go-right"),a(".imagify-level-"+g).attr("aria-hidden","false").addClass("go-right"));
u(a(".imagify-level-"+g).find(".imagify-chart").find("canvas"));return!1})}});if(0<a(".post-php").find(".wp_attachment_image").find(".thumbnail").length){p=a(".post-php").find(".wp_attachment_image");var f=p.find(".thumbnail");k=f.prop("src");var g=f.width(),f=f.height(),v=a("#imagify-full-original").val(),m=a("#imagify-full-original-size").val(),r=a("#misc-publishing-actions").find(".misc-pub-imagify").find(".button-primary");if(360<g&&0<a("#imagify-full-original").length&&""!==a("#imagify-full-original").val()){var r=
a(".misc-pub-filesize").find("strong").text(),l=a(".imagify-data-item").find(".imagify-chart-value").text();a('[id^="imgedit-open-btn-"]').before('<button type="button" class="imagify-button-primary button-primary imagify-modal-trigger" data-target="#imagify-visual-comparison" id="imagify-start-comparison">'+imagifyTTT.labels.compare+"</button>");e({width:g,height:f,original_url:v,optimized_url:k,original_size:m,optimized_size:r,saving:l,modal_append_to:p,trigger:a("#imagify-start-comparison"),modal_id:"imagify-visual-comparison"})}else 360>
g&&0<a("#imagify-full-original").length&&""!==a("#imagify-full-original").val()||0<a("#imagify-full-original").length&&""===a("#imagify-full-original").val()||(a('[id^="imgedit-open-btn-"]').before('<span class="spinner imagify-hidden"></span><a class="imagify-button-primary button-primary imagify-optimize-trigger" id="imagify-optimize-trigger" href="'+r.attr("href")+'">'+imagifyTTT.labels.optimize+"</a>"),a("#imagify-optimize-trigger").on("click",function(){a(this).prev(".spinner").removeClass("imagify-hidden").addClass("is-active")}))}0<
a(".upload-php").find(".imagify-compare-images").length&&a(".imagify-compare-images").each(function(){var b=a(this),d=b.data("id"),c=b.closest("#post-"+d).find(".column-imagify_optimized_file");e({width:b.data("full-width"),height:b.data("full-height"),original_url:b.data("backup-src"),optimized_url:b.data("full-src"),original_size:c.find(".original").text(),optimized_size:c.find(".imagify-data-item").find(".big").text(),saving:c.find(".imagify-chart-value").text(),modal_append_to:b.closest(".column-primary"),
trigger:b,modal_id:"imagify-comparison-"+d})});if(0<a(".upload-php").length)var t=setInterval(function(){0<a(".upload-php").find(".media-frame.mode-grid").find(".attachments").length&&(a(".upload-php").find(".media-frame.mode-grid").on("click",".attachment",function(){var b=setInterval(function(){if(a(".media-modal").find(".imagify-datas-details").length){if(0<a("#imagify-original-src").length&&""!==a("#imagify-original-src")){a(".media-frame-content").find(".attachment-actions").prepend('<button type="button" class="imagify-button-primary button-primary imagify-modal-trigger" data-target="#imagify-comparison-modal" id="imagify-media-frame-comparison-btn">'+
imagifyTTT.labels.compare+"</button>");var d=a(".media-frame-content").find(".compat-field-imagify");e({width:a("#imagify-full-width").val(),height:a("#imagify-full-height").val(),original_url:a("#imagify-original-src").val(),optimized_url:a("#imagify-full-src").val(),original_size:a("#imagify-original-size").val(),optimized_size:d.find(".imagify-data-item").find(".big").text(),saving:d.find(".imagify-chart-value").text(),modal_append_to:a(".media-frame-content").find(".thumbnail-image"),trigger:a("#imagify-media-frame-comparison-btn"),
modal_id:"imagify-comparison-modal",open_modal:!0})}clearInterval(b);b=null}},20)}),clearInterval(t))},100)})(jQuery,window,document);