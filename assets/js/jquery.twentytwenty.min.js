(function(p,a,e){a.fn.twentytwenty=function(k,g){k=a.extend({handlePosition:.5,orientation:"horizontal",labelBefore:"Before",labelAfter:"After"},k);return this.each(function(){var d=k.handlePosition,c=a(this),f=k.orientation,m="vertical"===f?"down":"left",n="vertical"===f?"up":"right",l=c.find("img:first"),e=c.find("img:last");c.wrap('<div class="twentytwenty-wrapper twentytwenty-'+f+'"></div>');c.append('<div class="twentytwenty-overlay"></div>');c.append('<div class="twentytwenty-handle"></div>');
var b=c.find(".twentytwenty-handle");b.append('<span class="twentytwenty-'+m+'-arrow"></span>');b.append('<span class="twentytwenty-'+n+'-arrow"></span>');c.addClass("twentytwenty-container");l.addClass("twentytwenty-before");e.addClass("twentytwenty-after");m=c.find(".twentytwenty-overlay");m.append('<div class="twentytwenty-labels twentytwenty-before-label"><span class="twentytwenty-label-content">'+k.labelBefore+"</span></div>");m.append('<div class="twentytwenty-labels twentytwenty-after-label"><span class="twentytwenty-label-content">'+
k.labelAfter+"</span></div>");var q=function(a){var q,k,d;d=l.width();var h=l.height();q=d+"px";k=h+"px";d=a*d+"px";a=a*h+"px";b.css("vertical"===f?"top":"left","vertical"===f?a:d);h=c.find(".twentytwenty-before");"vertical"===f?h.css("clip","rect(0,"+q+","+a+",0)"):h.css("clip","rect(0,"+d+","+k+",0)");c.css("height",k);"function"===typeof g&&g()},u=0,v=0,h=0,w=0;a(p).on("resize.twentytwenty",function(a){q(d)});b.on("movestart",function(a){(a.distX>a.distY&&a.distX<-a.distY||a.distX<a.distY&&a.distX>
-a.distY)&&"vertical"!==f?a.preventDefault():(a.distX<a.distY&&a.distX<-a.distY||a.distX>a.distY&&a.distX>-a.distY)&&"vertical"===f&&a.preventDefault();c.addClass("active");u=c.offset().left;v=c.offset().top;h=l.width();w=l.height()});b.on("moveend",function(a){c.removeClass("active")});b.on("move",function(a){c.hasClass("active")&&(d="vertical"===f?(a.pageY-v)/w:(a.pageX-u)/h,0>d&&(d=0),1<d&&(d=1),q(d))});c.find("img").on("mousedown",function(a){a.preventDefault()});a(p).trigger("resize.twentytwenty")})}})(window,
jQuery);
(function(p,a,e){var k=function(b){b.each(function(){var b=parseInt(a(this).closest(".imagify-chart").next(".imagify-chart-value").text()),b=[{value:b,color:"#00B3D3"},{value:100-b,color:"#D8D8D8"}];(new Chart(a(this)[0].getContext("2d"))).Doughnut(b,{segmentStrokeColor:"#2A2E3C",segmentStrokeWidth:1,animateRotate:!0,percentageInnerCutout:60,tooltipEvents:[]})})};a(".imagify-visual-comparison-btn").on("click",function(){if(1!==a(".twentytwenty-wrapper").length&&(a(a(this).data("target")).find(".imagify-modal-content").css("width",.95*
a(p).outerWidth()+"px"),0<a(".twentytwenty-container").length&&800<a(p).outerWidth())){var b=a(".twentytwenty-container"),c=0,d=b.data("loader"),f=b.data("label-original"),h=b.data("label-normal"),g=b.data("label-aggressive"),l=b.data("label-ultra"),e=b.data("original-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>"),m=b.data("original-alt"),n=b.data("original-img"),t=b.data("original-dim").split("x");b.data("normal-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>");var r=
b.data("normal-alt"),B=b.data("normal-img"),x=b.data("normal-dim").split("x");b.data("aggressive-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>");var C=b.data("aggressive-alt"),D=b.data("aggressive-img"),y=b.data("aggressive-dim").split("x"),E=b.data("ultra-label").replace(/\*\*/,"<strong>").replace(/\*\*/,"</strong>"),F=b.data("ultra-alt"),G=b.data("ultra-img"),z=b.data("ultra-dim").split("x"),f='<span class="twentytwenty-duo-buttons twentytwenty-duo-left"><button type="button" class="imagify-comparison-original selected" data-img="original">'+
f+'</button><button type="button" class="imagify-comparison-normal" data-img="normal">'+h+'</button><button type="button" class="imagify-comparison-aggressive" data-img="aggressive">'+g+"</button></span>",h='<span class="twentytwenty-duo-buttons twentytwenty-duo-right"><button type="button" class="imagify-comparison-normal" data-img="normal">'+h+'</button><button type="button" class="imagify-comparison-aggressive" data-img="aggressive">'+g+'</button><button type="button" class="imagify-comparison-ultra selected" data-img="ultra">'+
l+"</button></span>";b.before('<img class="loader" src="'+d+'" alt="Loading\u2026" width="64" height="64">');d=a(".twentytwenty-left-buttons").lenght?f+h:"";a(".twentytwenty-left-buttons").append(f);a(".twentytwenty-right-buttons").append(h);b.closest(".imagify-modal-content").addClass("loading").find(".twentytwenty-container").append('<img class="img-original" alt="'+m+'" width="'+t[0]+'" height="'+t[1]+'"><img class="img-normal" alt="'+r+'" width="'+x[0]+'" height="'+x[1]+'"><img class="img-aggressive" alt="'+
C+'" width="'+y[0]+'" height="'+y[1]+'"><img class="img-ultra" alt="'+F+'" width="'+z[0]+'" height="'+z[1]+'">'+d);a(".img-original").on("load",function(){c++}).attr("src",n);a(".img-normal").on("load",function(){c++}).attr("src",B);a(".img-aggressive").on("load",function(){c++}).attr("src",D);a(".img-ultra").on("load",function(){c++}).attr("src",G);var A=setInterval(function(){4===c&&(b.twentytwenty({handlePosition:.6,orientation:"horizontal",labelBefore:e,labelAfter:E},function(){b.closest(".imagify-modal-content").hasClass("loaded")||
(b.closest(".imagify-modal-content").removeClass("loading").addClass("loaded"),k(a(".imagify-level-ultra").find(".imagify-chart").find("canvas")))}),clearInterval(A),A=null)},75);a(".imagify-comparison-title").on("click",".twentytwenty-duo-buttons button:not(.selected)",function(b){b.stopPropagation();var c=a(this);b=c.closest(".imagify-comparison-title").nextAll(".twentytwenty-wrapper").find(".twentytwenty-container");var d=c.closest(".twentytwenty-duo-buttons").hasClass("twentytwenty-duo-left")?
"left":"right",f="left"===d?c.closest(".imagify-comparison-title").find(".twentytwenty-duo-right"):c.closest(".imagify-comparison-title").find(".twentytwenty-duo-left"),h=c.closest(".twentytwenty-duo-buttons").find("button"),g=b.find(".twentytwenty-before"),l=b.find(".twentytwenty-after"),e=c.data("img");h.removeClass("selected");c.addClass("selected");f.find(".selected").data("img")===e&&f.find("button:not(.selected)").eq(0).trigger("click");"left"===d&&(c=g.css("clip"),g.attr("style",""),g.removeClass("twentytwenty-before"),
b.find(".img-"+e).addClass("twentytwenty-before").css("clip",c),a(".twentytwenty-before-label").find(".twentytwenty-label-content").text(b.data(e+"-label")),a(".imagify-c-level.go-left").attr("aria-hidden","true").removeClass("go-left go-right"),a(".imagify-level-"+e).attr("aria-hidden","false").addClass("go-left"));"right"===d&&(l.removeClass("twentytwenty-after"),b.find(".img-"+e).addClass("twentytwenty-after"),a(".twentytwenty-after-label").find(".twentytwenty-label-content").text(b.data(e+"-label")),
a(".imagify-c-level.go-right").attr("aria-hidden","true").removeClass("go-left go-right"),a(".imagify-level-"+e).attr("aria-hidden","false").addClass("go-right"));k(a(".imagify-level-"+e).find(".imagify-chart").find("canvas"));return!1})}});if(0<a(".post-php").find(".wp_attachment_image").find(".thumbnail").length){e=a(".post-php").find(".wp_attachment_image");var g=e.find(".thumbnail"),d=g.prop("src"),c=g.width(),g=g.height(),f=a("#imagify-full-original").val(),m=a("#imagify-full-original-size").val();
if(300<c&&0<a("#imagify-full-original").length){var n=0,l=a(".misc-pub-filesize").find("strong").text(),r=a(".imagify-data-item").find(".imagify-chart-value").text();a('[id^="imgedit-open-btn-"]').before('<button type="button" class="imagify-button-primary button-primary imagify-modal-trigger" data-target="#imagify-visual-comparison" id="imagify-start-comparison">'+imagifyTTT.labels.compare+"</button>");e.append('<div id="imagify-visual-comparison" class="imagify-modal" aria-hidden="true"><div class="imagify-modal-content loading"><div class="twentytwenty-container"><img class="imagify-img-before" alt="" width="'+
c+'" height="'+g+'"><img class="imagify-img-after" alt="" width="'+c+'" height="'+g+'"></div><div class="imagify-comparison-levels"><div class="imagify-c-level imagify-level-original go-left"><p class="imagify-c-level-row"><span class="label">'+imagifyTTT.labels.filesize+'</span><span class="value level">'+m+'</span></p></div><div class="imagify-c-level imagify-level-optimized go-right"><p class="imagify-c-level-row"><span class="label">'+imagifyTTT.labels.filesize+'</span><span class="value level">'+
l+'</span></p><p class="imagify-c-level-row"><span class="label">'+imagifyTTT.labels.saving+'</span><span class="value"><span class="imagify-chart"><span class="imagify-chart-container"><canvas id="imagify-consumption-chart-normal" width="15" height="15"></canvas></span></span><span class="imagify-chart-value">'+r+'</span>%</span></p></div></div><button class="close-btn absolute" type="button"><i aria-hidden="true" class="dashicons dashicons-no-alt"></i><span class="screen-reader-text">'+imagifyTTT.labels.close+
"</span></button></div></div>");a("#imagify-start-comparison").on("click.imagify",function(){a(a(this).data("target")).find(".imagify-modal-content").css({width:.95*a(p).outerWidth()+"px","max-width":c});a(".imagify-img-before").on("load",function(){n++}).attr("src",f);a(".imagify-img-after").on("load",function(){n++}).attr("src",d);var b=a(".twentytwenty-container"),e=setInterval(function(){2===n&&(b.twentytwenty({handlePosition:.3,orientation:"horizontal",labelBefore:imagifyTTT.labels.original_l,
labelAfter:imagifyTTT.labels.optimized_l},function(){b.closest(".imagify-modal-content").hasClass("loaded")||(b.closest(".imagify-modal-content").removeClass("loading").addClass("loaded"),k(a(".imagify-level-optimized").find(".imagify-chart").find("canvas")))}),clearInterval(e),e=null)},75)})}}})(window,jQuery);